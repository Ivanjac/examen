<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen 1: Must y Mustn't</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 20px;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .question-container {
            margin: 30px auto;
            padding: 20px;
            max-width: 600px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }
        .options {
            margin-top: 20px;
        }
        .options label {
            display: block;
            margin: 10px 0;
        }
        button {
            background-color: #2a717e;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #1f5980;
        }
        .result {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
        }

        .explanation {
            margin-top: 40px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            font-family: 'Arial', sans-serif;
            font-size: 18px;
            color: #333;
            text-align: center;
            line-height: 1.6;
        }
        .explanation h2 {
            font-size: 22px;
            color: #2a717e;
            margin-bottom: 20px;
        }
        .explanation p, .explanation ul {
            font-size: 16px;
        }
        .explanation ul {
            padding-left: 20px;
            text-align: left;
        }
        .explanation li {
            margin-bottom: 10px;
        }
        nav {
            background-color: #2a717e;
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        nav a {
            color: white;
            font-size: 18px;
            text-decoration: none;
            margin: 0 15px;
        }
        nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">Inicio</a>
    </nav><br><br><br>
    
    <h1>Examen 5: Past perfect    </h1>
    <div class="question-container" id="question-container">
        <p id="question-text">Loading question...</p>
        <div class="options" id="options-container"></div>
        <button id="next-btn">Siguiente</button>
        <button id="translate-btn">Traducir</button>
    </div>


    <div class="explanation">
        <h2>Explicación de "Past Perfect"</h2>
        <p><strong>"Past Perfect"</strong> se utiliza para hablar de una acción que ocurrió antes de otra acción en el pasado. Se forma con el verbo auxiliar <strong>had</strong> seguido del participio pasado del verbo principal. Por ejemplo:</p>
        <ul>
            <li><strong>She had already left when I arrived.</strong> (Ella ya se había ido cuando llegué.)</li>
            <li><strong>They had finished the homework before the teacher arrived.</strong> (Ellos habían terminado la tarea antes de que llegara el maestro.)</li>
        </ul>
        <p>El <strong>Past Perfect</strong> se usa para indicar que una acción ocurrió antes que otra en el pasado. La estructura es:</p>
        <ul>
            <li><strong>Subject + had + past participle + (optional rest of sentence).</strong></li>
        </ul>
        <p>Por ejemplo:</p>
        <ul>
            <li><strong>She had never visited Paris before.</strong> (Ella nunca había visitado París antes.)</li>
            <li><strong>By the time we arrived, they had already eaten.</strong> (Cuando llegamos, ellos ya habían comido.)</li>
        </ul>
        <p>Recuerda que el <strong>Past Perfect</strong> se usa para hablar de una acción que ocurrió antes de otra acción pasada. Si ya hay un indicio temporal (como "before", "after", "by the time", etc.), el uso del Past Perfect es esencial.</p>
    </div>
    

    <script>
        const examKey = "progreso_examen_5"; 
        const questions = [
    { id: 1, text: "I ___ (finish) my homework before dinner.", translated: "Yo ___ (había terminado) mi tarea antes de la cena.", options: ["had finished", "finished", "finish"], correct: "had finished" },
    { id: 2, text: "She ___ (leave) by the time I arrived.", translated: "Ella ___ (se había ido) cuando llegué.", options: ["had left", "left", "leaves"], correct: "had left" },
    { id: 3, text: "We ___ (not see) each other for years before the reunion.", translated: "Nosotros ___ (no nos habíamos visto) durante años antes de la reunión.", options: ["had not seen", "hadn't seen", "didn't see"], correct: "hadn't seen" },
    { id: 4, text: "They ___ (already eat) when we arrived.", translated: "Ellos ___ (ya habían comido) cuando llegamos.", options: ["had already eaten", "already ate", "ate already"], correct: "had already eaten" },
    { id: 5, text: "He ___ (finish) the project before the deadline.", translated: "Él ___ (había terminado) el proyecto antes de la fecha límite.", options: ["had finished", "finished", "finish"], correct: "had finished" },
    { id: 6, text: "By the time I called her, she ___ (leave).", translated: "Cuando la llamé, ella ___ (se había ido).", options: ["had left", "left", "leaves"], correct: "had left" },
    { id: 7, text: "We ___ (already read) the book before the exam.", translated: "Nosotros ___ (ya habíamos leído) el libro antes del examen.", options: ["had already read", "already read", "had read"], correct: "had already read" },
    { id: 8, text: "By the time I woke up, they ___ (finish) their breakfast.", translated: "Cuando me desperté, ellos ___ (habían terminado) su desayuno.", options: ["had finished", "finished", "finishes"], correct: "had finished" },
    { id: 9, text: "She ___ (study) French before she moved to Paris.", translated: "Ella ___ (había estudiado) francés antes de mudarse a París.", options: ["had studied", "studied", "studies"], correct: "had studied" },
    { id: 10, text: "They ___ (already leave) when we got there.", translated: "Ellos ___ (ya se habían ido) cuando llegamos allí.", options: ["had already left", "already left", "had left"], correct: "had already left" },
    { id: 11, text: "I ___ (never visit) that museum before my trip to London.", translated: "Yo ___ (nunca había visitado) ese museo antes de mi viaje a Londres.", options: ["had never visited", "never visited", "never had visited"], correct: "had never visited" },
    { id: 12, text: "We ___ (not finish) the movie when the power went out.", translated: "Nosotros ___ (no habíamos terminado) la película cuando se cortó la electricidad.", options: ["had not finished", "hadn't finished", "didn't finish"], correct: "hadn't finished" },
    { id: 13, text: "She ___ (already go) to the store when I called her.", translated: "Ella ___ (ya había ido) a la tienda cuando la llamé.", options: ["had already gone", "already went", "had gone"], correct: "had already gone" },
    { id: 14, text: "I ___ (not meet) him before the party.", translated: "Yo ___ (no lo había conocido) antes de la fiesta.", options: ["had not met", "hadn't met", "didn't meet"], correct: "hadn't met" },
    { id: 15, text: "They ___ (arrive) by the time we started the meeting.", translated: "Ellos ___ (habían llegado) cuando comenzamos la reunión.", options: ["had arrived", "arrived", "have arrived"], correct: "had arrived" },
    { id: 16, text: "By the time I got to the station, the train ___ (leave).", translated: "Cuando llegué a la estación, el tren ___ (se había ido).", options: ["had left", "left", "had leave"], correct: "had left" },
    { id: 17, text: "She ___ (already make) her decision by the time we spoke.", translated: "Ella ___ (ya había tomado) su decisión cuando hablamos.", options: ["had already made", "already made", "made already"], correct: "had already made" },
    { id: 18, text: "I ___ (just finish) the project when my boss called.", translated: "Yo ___ (acababa de terminar) el proyecto cuando mi jefe llamó.", options: ["had just finished", "just finished", "finished just"], correct: "had just finished" },
    { id: 19, text: "They ___ (never travel) abroad before last summer.", translated: "Ellos ___ (nunca habían viajado) al extranjero antes del verano pasado.", options: ["had never traveled", "never traveled", "traveled never"], correct: "had never traveled" },
    { id: 20, text: "By the time we arrived, they ___ (already eat).", translated: "Cuando llegamos, ellos ___ (ya habían comido).", options: ["had already eaten", "already eat", "ate already"], correct: "had already eaten" },
    { id: 21, text: "I ___ (see) that movie before, so I didn't watch it again.", translated: "Yo ___ (ya había visto) esa película, así que no la vi otra vez.", options: ["had seen", "saw", "see"], correct: "had seen" },
    { id: 22, text: "She ___ (finish) the assignment before the class started.", translated: "Ella ___ (había terminado) la tarea antes de que comenzara la clase.", options: ["had finished", "finished", "finish"], correct: "had finished" },
    { id: 23, text: "We ___ (live) in that house for five years before we moved.", translated: "Nosotros ___ (habíamos vivido) en esa casa durante cinco años antes de mudarnos.", options: ["had lived", "lived", "live"], correct: "had lived" },
    { id: 24, text: "By the time I called him, he ___ (go) to bed.", translated: "Cuando lo llamé, él ___ (ya se había ido) a la cama.", options: ["had gone", "went", "goes"], correct: "had gone" },
    { id: 25, text: "They ___ (not make) a decision before the meeting ended.", translated: "Ellos ___ (no habían tomado) una decisión antes de que terminara la reunión.", options: ["had not made", "hadn't made", "didn't make"], correct: "hadn't made" },
    { id: 26, text: "She ___ (already complete) the task before the deadline.", translated: "Ella ___ (ya había completado) la tarea antes de la fecha límite.", options: ["had already completed", "already completed", "completed already"], correct: "had already completed" },
    { id: 27, text: "We ___ (not start) the meeting before the boss arrived.", translated: "Nosotros ___ (no habíamos comenzado) la reunión antes de que llegara el jefe.", options: ["had not started", "hadn't started", "didn't start"], correct: "hadn't started" },
    { id: 28, text: "I ___ (not read) that book before, so I read it last weekend.", translated: "Yo ___ (no había leído) ese libro antes, así que lo leí el fin de semana pasado.", options: ["had not read", "hadn't read", "didn't read"], correct: "hadn't read" },
    { id: 29, text: "They ___ (arrive) early because they had an important meeting.", translated: "Ellos ___ (habían llegado) temprano porque tenían una reunión importante.", options: ["had arrived", "arrived", "have arrived"], correct: "had arrived" },
    { id: 30, text: "I ___ (finish) my work by the time they called me.", translated: "Yo ___ (había terminado) mi trabajo para cuando me llamaron.", options: ["had finished", "finished", "finish"], correct: "had finished" },
    { id: 31, text: "She ___ (never try) sushi before she went to Japan.", translated: "Ella ___ (nunca había probado) sushi antes de ir a Japón.", options: ["had never tried", "never tried", "tried never"], correct: "had never tried" },
    { id: 32, text: "I ___ (hear) that song many times before it became popular.", translated: "Yo ___ (había oído) esa canción muchas veces antes de que se hiciera popular.", options: ["had heard", "heard", "hears"], correct: "had heard" },
    { id: 33, text: "We ___ (visit) many countries before we moved to Canada.", translated: "Nosotros ___ (habíamos visitado) muchos países antes de mudarnos a Canadá.", options: ["had visited", "visited", "visits"], correct: "had visited" },
    { id: 34, text: "They ___ (already leave) by the time I called them.", translated: "Ellos ___ (ya se habían ido) cuando los llamé.", options: ["had already left", "already left", "left already"], correct: "had already left" },
    { id: 35, text: "By the time we met, I ___ (never see) him before.", translated: "Cuando nos conocimos, yo ___ (nunca lo había visto) antes.", options: ["had never seen", "never saw", "saw never"], correct: "had never seen" },
    { id: 36, text: "She ___ (finish) her work before she went out with friends.", translated: "Ella ___ (había terminado) su trabajo antes de salir con sus amigos.", options: ["had finished", "finished", "finish"], correct: "had finished" },
    { id: 37, text: "I ___ (not study) before the test, so I didn't do well.", translated: "Yo ___ (no había estudiado) antes del examen, así que no me fue bien.", options: ["had not studied", "hadn't studied", "didn't study"], correct: "hadn't studied" },
    { id: 38, text: "He ___ (go) to the gym before he went to work.", translated: "Él ___ (había ido) al gimnasio antes de ir a trabajar.", options: ["had gone", "went", "goes"], correct: "had gone" },
    { id: 39, text: "By the time I reached the station, the train ___ (already leave).", translated: "Cuando llegué a la estación, el tren ___ (ya se había ido).", options: ["had already left", "already left", "left already"], correct: "had already left" },
    { id: 40, text: "We ___ (study) French for three years before we moved to Paris.", translated: "Nosotros ___ (habíamos estudiado) francés durante tres años antes de mudarnos a París.", options: ["had studied", "studied", "study"], correct: "had studied" },
    { id: 41, text: "She ___ (eat) by the time we arrived.", translated: "Ella ___ (ya había comido) cuando llegamos.", options: ["had eaten", "ate", "eats"], correct: "had eaten" },
    { id: 42, text: "I ___ (work) at that company for five years when I got promoted.", translated: "Yo ___ (había trabajado) en esa empresa durante cinco años cuando me ascendieron.", options: ["had worked", "worked", "works"], correct: "had worked" },
    { id: 43, text: "They ___ (complete) the assignment before the deadline.", translated: "Ellos ___ (habían completado) la tarea antes de la fecha límite.", options: ["had completed", "completed", "completes"], correct: "had completed" },
    { id: 44, text: "She ___ (be) very tired because she had been working all day.", translated: "Ella ___ (estaba) muy cansada porque había estado trabajando todo el día.", options: ["had been", "was", "have been"], correct: "had been" },
    { id: 45, text: "By the time I got to the airport, they ___ (already leave).", translated: "Cuando llegué al aeropuerto, ellos ___ (ya se habían ido).", options: ["had already left", "already left", "leave already"], correct: "had already left" },
    { id: 46, text: "We ___ (not do) anything before the storm started.", translated: "Nosotros ___ (no habíamos hecho) nada antes de que comenzara la tormenta.", options: ["had not done", "hadn't done", "didn't do"], correct: "hadn't done" },
    { id: 47, text: "He ___ (take) a shower before going to bed.", translated: "Él ___ (se había duchado) antes de irse a la cama.", options: ["had taken", "took", "takes"], correct: "had taken" },
    { id: 48, text: "She ___ (make) her decision before I had a chance to speak.", translated: "Ella ___ (había tomado) su decisión antes de que tuviera la oportunidad de hablar.", options: ["had made", "made", "makes"], correct: "had made" },
    { id: 49, text: "I ___ (already finish) my work before the meeting started.", translated: "Yo ___ (ya había terminado) mi trabajo antes de que comenzara la reunión.", options: ["had already finished", "already finished", "finish"], correct: "had already finished" },
    { id: 50, text: "They ___ (arrive) by the time we finished our meal.", translated: "Ellos ___ (habían llegado) cuando terminamos nuestra comida.", options: ["had arrived", "arrived", "arrives"], correct: "had arrived" }
];



        const savedProgress = JSON.parse(localStorage.getItem(examKey)) || [];
        let remainingQuestions = questions.filter(q => !savedProgress.includes(q.id));

        const questionContainer = document.getElementById("question-container");
        const questionText = document.getElementById("question-text");
        const optionsContainer = document.getElementById("options-container");
        const nextBtn = document.getElementById("next-btn");
        const translateBtn = document.getElementById("translate-btn");

        let isTranslated = false; 

        function showRandomQuestion() {
            if (remainingQuestions.length === 0) {
                questionText.textContent = "¡Has completado el examen!";
                optionsContainer.innerHTML = "";
                nextBtn.style.display = "none";
                translateBtn.style.display = "none"; 
                localStorage.removeItem(examKey); 
                return;
            }

            const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
            const currentQuestion = remainingQuestions[randomIndex];

            questionText.textContent = currentQuestion.text;
            isTranslated = false; 

            optionsContainer.innerHTML = "";
            currentQuestion.options.forEach(option => {
                const label = document.createElement("label");
                label.innerHTML = `<input type="radio" name="option" value="${option}"> ${option}`;
                optionsContainer.appendChild(label);
            });

            translateBtn.onclick = () => {
                if (isTranslated) {
                    questionText.textContent = currentQuestion.text; 
                } else {
                    questionText.textContent = currentQuestion.translated; 
                }
                isTranslated = !isTranslated; 
            };

            nextBtn.onclick = () => {
                const selectedOption = document.querySelector('input[name="option"]:checked');
                if (!selectedOption) {
                    alert("Por favor, selecciona una opción.");
                    return;
                }

                const answer = selectedOption.value;
                if (answer === currentQuestion.correct) {
                    alert("Respuesta correcta.");
                } else {
                    alert(`Respuesta incorrecta. La respuesta correcta es: ${currentQuestion.correct}`);
                }

                savedProgress.push(currentQuestion.id);
                localStorage.setItem(examKey, JSON.stringify(savedProgress));
                remainingQuestions.splice(randomIndex, 1); 
                showRandomQuestion(); 
            };
        }

        showRandomQuestion();
    </script>
</body>
</html>
